/* trak.js v0.2.2 | (c) 2014 @mrmartineau | https://github.com/tmwagency/trak.js
   Universal event tracking API. */
function trak(){"use strict";for(var a=document.querySelectorAll("[data-trak]"),b=0;b<a.length;b++)a[b].addEventListener?a[b].addEventListener("click",trak.dataAttrEvent):a[b].attachEvent&&a[b].attachEvent("onclick",trak.dataAttrEvent);for(var c=document.querySelectorAll("a"),d=0;d<c.length;d++)c[d].addEventListener("click",trak.trackExtrn)}trak.clean=function(a){return trak.options.clean?a.toString().replace(/\s|'|"/g,this.options.delimeter).toLowerCase():a},trak.event=function(a,b,c,d){d=trak.getExtendedOptions(d),"ga"===trak.options.trackType&&"undefined"!=typeof ga?ga("send","event",trak.clean(a),trak.clean(b),trak.clean(c),d.value,{nonInteraction:d.nonInteraction}):"_gaq"===trak.options.trackType&&"undefined"!=typeof _gaq?_gaq.push(["_trackEvent",trak.clean(a),trak.clean(b),trak.clean(c),d.value]):"gtm"===trak.options.trackType&&"undefined"!=typeof dataLayer&&dataLayer.push({event:d.eventName,eventCategory:trak.clean(a),eventAction:trak.clean(b),eventLabel:trak.clean(c),eventValue:d.value}),void 0!==trak.options.additionalTypes&&trak.options.additionalTypes(),trak.options.debug&&console.log("Debug:\n Category:",trak.clean(a),"\n Action:",trak.clean(b),"\n Label:",trak.clean(c),"\n Extended options:",d)},trak.dataAttrEvent=function(){var a=void 0!==this.getAttribute("data-trakwithjs")?!1:!0;a||trak.attrEvent.call(this)},trak.trackExtrn=function(a){var b=a.target.hostname;b!==window.location.hostname&&-1===trak.options.hostnames.indexOf(b)&&trak.event("ExternalLink","click",a.target.href)},trak.attrEvent=function(){var a=JSON.parse(this.getAttribute("data-trak")),b=trak.wildcard.call(this,a.category),c=trak.wildcard.call(this,a.action),d=trak.wildcard.call(this,a.label),e=a.options;trak.event(b,c,d,e)},trak.wildcard=function(a){var b;switch(a){case"page.title":b=document.title;break;case"page.href":b=window.location.href;break;case"link.href":b=this.href;break;case"link.title":b=this.title;break;case"referrer":b=document.referrer?document.referrer:"No referrer";break;default:b=a}return b},trak.getExtendedOptions=function(a){return{value:a&&a.value||0,nonInteraction:a&&a.nonInteraction||!1,eventName:a&&a.eventName||void 0}},trak.options={clean:!0,delimeter:"_",trackType:"ga",hostnames:[""],additionalTypes:void 0,debug:!0};